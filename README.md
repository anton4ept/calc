# calc
examples of realease one function

<h1>Целесообразность - хорошее слово, которое не стоит забывать ни при разработке, ни при поиске работы. </h1>

Пример... Задание: написать функцию calc так, чтобы console.log(calc(2)("+")(3)) выдавал 5, а console.log(calc(2)("*")(3)) выдавал 6.

<h2>Простейший способ (в задании не сказано, что могут быть другие аргументы): </h2>
<pre>var calc = function(a) {
	return function(b) {
		return function(c) {
			return (b == "+" ? 5 : 6);
		}
	}
}
</pre>
Плюсы: работает быстро. <br>
Минусы: другие аргументы, дадут те же результаты; расширение равнозначно полной переделке.  

<h2>Способ "чуть больше чем в ТЗ":</h2>
<pre>
var calc = function(a) {
	return function(b) {
		return function(c) {
			if (b == '+') {
				return a + c;
			} else if (b == '*') {
				return a * c;
			}
		}
	}
}
</pre>
Плюсы: может работать с разными числами.<br> 
Минусы: если в качестве аргументов a,b будут не числа, результат может показаться как минимум странным (calc("a")("+")(2) вернет "a2", calc("a")("*")("b") вернет NaN); если второй аргумент не "+" и не "*" функция ничего не вернет и никуда не ругнется. 

<h2>Способ с заделом на будущее (возможность расширения списка условий и проверок входных параметров, с использованием исключений):</h2>
<pre>
var isArgument = function(arg) {
	return !isNaN(arg)
}
var isAction = function(arg) {
	var result = false;
	switch (arg) {
		case "+":
			result = true;
			break;
		case "*":
			result = true;
			break;
	}
	return result;
}

var calc = function(a) {
	return function(b) {
		return function(c) {
			var formula = String(a) + String(b) + String(c);
			try {
				if (isArgument(a)) {
					if (isArgument(c)) {
						if (isAction(b)) {
							return eval(formula);
						} else {
							throw new SyntaxError("Недопустимый тип действия " + b);
						}
					} else {
						throw new SyntaxError("Недопустимый тип аргумента " + c);
					}
				} else {
					throw new SyntaxError("Недопустимый тип аргумента " + a);
				}
			} catch (e) {
				if (e.name == "SyntaxError") {
					console.log(e.message);
				} else {
					throw e;
				}
			}
		}
	}
}
</pre>
Плюсы: проводятся проверки входных данных; в случае несоответствия получаем сообщения об ошибках; легко расширяются проверки аргументов и действий; код разбит на блоки, которые можно использовать в других местах. <br>
Минусы: используется eval; много кода; не самое скоростное решение. </br>
Можно заменить использование eval на функцию doAction(a,b,c), которая будет делать необходимые действия по аналогии с isAction(), но eval - это всего одна строчка, да и минификаторы в данном случае ничего не "покоцают".

<h2>Способ "смотрите как надо":</h2>
создать классы arguments, action, formula, при инициализации выдавать ошибки, если не подходят аргументы или экшн, передавать их в формулу, запускать исполнение формулы и возвращать данные... <strong>но это уже совсем НЕЦЕЛЕСООБРАЗНО</strong> для такой простой функции. 

Так что, соизмеряйте свои умелки с требованиями к задачам. 
